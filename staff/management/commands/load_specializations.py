from django.core.management.base import BaseCommand
from staff.models import Specialization

class Command(BaseCommand):
    help = 'Загружает начальные данные со специализациями медицинских работников'

    def handle(self, *args, **options):
        # Список специализаций с описаниями
        specializations_data = [
            {
                'name': 'Психиатр-нарколог',
                'description': 'Специалист по диагностике и лечению психических расстройств, связанных с употреблением психоактивных веществ. Проводит комплексное лечение алкогольной и наркотической зависимости.'
            },
            {
                'name': 'Психолог',
                'description': 'Специалист, оказывающий психологическую помощь пациентам с зависимостями. Проводит индивидуальные и групповые консультации, психотерапию, помогает в социальной адаптации.'
            },
            {
                'name': 'Психотерапевт',
                'description': 'Врач, специализирующийся на лечении психических расстройств с помощью психотерапевтических методов. Работает с пациентами, страдающими зависимостями и сопутствующими расстройствами.'
            },
            {
                'name': 'Социальный работник',
                'description': 'Специалист, помогающий пациентам в социальной адаптации после лечения. Оказывает помощь в трудоустройстве, восстановлении семейных связей, решении бытовых проблем.'
            },
            {
                'name': 'Реабилитолог',
                'description': 'Специалист по медицинской реабилитации. Разрабатывает и контролирует программы физического и психологического восстановления пациентов после лечения зависимости.'
            },
            {
                'name': 'Аддиктолог',
                'description': 'Специалист по лечению различных видов зависимостей. Использует комплексный подход, включающий медикаментозное лечение, психотерапию и социальную реабилитацию.'
            },
            {
                'name': 'Семейный психолог',
                'description': 'Специалист, работающий с семьями пациентов с зависимостями. Помогает восстановить семейные отношения, решить конфликты, наладить коммуникацию между членами семьи.'
            },
            {
                'name': 'Медсестра',
                'description': 'Медицинский работник, обеспечивающий уход за пациентами во время лечения. Контролирует прием лекарств, следит за состоянием пациентов, оказывает первую помощь.'
            },
            {
                'name': 'Инструктор по физической реабилитации',
                'description': 'Специалист, разрабатывающий и проводящий программы физической активности для пациентов. Помогает восстановить физическое здоровье и улучшить психоэмоциональное состояние.'
            },
            {
                'name': 'Консультант по химической зависимости',
                'description': 'Специалист, прошедший специальную подготовку по работе с зависимостями. Оказывает поддержку пациентам на всех этапах лечения и реабилитации.'
            }
        ]

        # Создаем специализации
        for spec_data in specializations_data:
            specialization, created = Specialization.objects.get_or_create(
                name=spec_data['name'],
                defaults={'description': spec_data['description']}
            )
            
            if created:
                self.stdout.write(self.style.SUCCESS(f'Создана специализация: {spec_data["name"]}'))
            else:
                self.stdout.write(self.style.WARNING(f'Специализация уже существует: {spec_data["name"]}'))

        self.stdout.write(self.style.SUCCESS('Загрузка специализаций завершена')) 