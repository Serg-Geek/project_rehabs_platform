# Диаграммы проекта

В этой папке содержатся все диаграммы проекта "Центр помощи зависимым", созданные в формате PlantUML.

## Структура диаграмм

### Архитектурные диаграммы

- **models_uml.puml** - UML диаграмма классов моделей Django
- **erd_database.puml** - ERD диаграмма базы данных
- **system_components.puml** - Диаграмма компонентов системы
- **deployment.puml** - Диаграмма развертывания инфраструктуры

### Процессные диаграммы

- **use_cases.puml** - Пользовательские сценарии (Use Cases)
- **search_sequence.puml** - Диаграмма последовательности поиска
- **review_states.puml** - Диаграмма состояний жизненного цикла отзыва

### Навигационные диаграммы

- **site_map.puml** - Карта сайта и структура навигации

## Как использовать

### Просмотр диаграмм

1. **Онлайн**: Используйте [PlantUML Online Server](http://www.plantuml.com/plantuml/uml/)
2. **Локально**: Установите PlantUML и используйте IDE плагины
3. **VS Code**: Установите расширение "PlantUML" для автоматического рендеринга

### Генерация изображений

```bash
# Установка PlantUML (требуется Java)
sudo apt-get install plantuml

# Генерация PNG из PUML файла
plantuml -tpng filename.puml

# Генерация SVG
plantuml -tsvg filename.puml

# Генерация PDF
plantuml -tpdf filename.puml
```

### Автоматическая генерация всех диаграмм

```bash
# В папке docs/diagrams
plantuml -tpng *.puml
plantuml -tsvg *.puml
```

## Описание диаграмм

### models_uml.puml

Показывает структуру моделей Django с их полями, методами и связями. Включает:

- Абстрактную модель `AbstractMedicalFacility`
- Конкретные модели: `RehabCenter`, `Clinic`, `PrivateDoctor`
- Связанные модели: `Specialization`, `Review`, `FacilityImage`
- Generic Relations и наследование

### erd_database.puml

Entity-Relationship Diagram базы данных, отображающий:

- Таблицы и их поля
- Связи между таблицами (FK, M2M)
- Индексы и ограничения
- Типы данных

### system_components.puml

Архитектурная диаграмма компонентов системы:

- Django-приложения и их взаимодействие
- Внешние сервисы (БД, файловое хранилище)
- Инфраструктурные компоненты
- Потоки данных между компонентами

### use_cases.puml

Пользовательские сценарии с акторами:

- **Посетитель**: базовые функции просмотра
- **Зарегистрированный пользователь**: оставление отзывов
- **Администратор**: управление контентом
- **Суперпользователь**: полное управление системой

### search_sequence.puml

Диаграмма последовательности процесса поиска:

- Взаимодействие пользователя с системой
- Обработка запроса в Django
- Работа с кэшем и базой данных
- Оптимизация запросов

### review_states.puml

Жизненный цикл отзыва:

- Создание черновика
- Модерация и проверка
- Публикация или отклонение
- Архивирование

### site_map.puml

Структура сайта и навигация:

- Основные разделы
- Детальные страницы
- Административные функции
- Пользовательские функции

### deployment.puml

Инфраструктура развертывания:

- Load balancer и веб-серверы
- База данных с репликацией
- Кэш и файловое хранилище
- Мониторинг и бэкапы
- CI/CD pipeline

## Рекомендации по обновлению

### При изменении моделей

1. Обновите `models_uml.puml`
2. Обновите `erd_database.puml`
3. Проверьте `system_components.puml`

### При изменении бизнес-процессов

1. Обновите `use_cases.puml`
2. Создайте новые диаграммы последовательности
3. Обновите диаграммы состояний

### При изменении архитектуры

1. Обновите `system_components.puml`
2. Обновите `deployment.puml`
3. Создайте новые архитектурные диаграммы

## Инструменты для работы с диаграммами

### Рекомендуемые инструменты

- **PlantUML** - основной инструмент для создания диаграмм
- **VS Code + PlantUML Extension** - удобное редактирование
- **Draw.io** - для дополнительных диаграмм
- **Lucidchart** - для сложных архитектурных диаграмм

### Альтернативные форматы

- **Mermaid** - для простых диаграмм в Markdown
- **Graphviz** - для графов и схем
- **Visio** - для детальных технических схем

## Контроль версий

Все диаграммы хранятся в формате PlantUML (.puml) для:

- Возможности отслеживания изменений в Git
- Легкого редактирования текстом
- Автоматической генерации изображений
- Совместимости с различными инструментами
