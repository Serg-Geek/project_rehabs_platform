# Анализ неиспользуемых полей в моделях проекта

## Обзор

Данный документ содержит анализ полей в моделях Django-приложений проекта, которые не используются в шаблонах, представлениях или админке.

## Методология анализа

Анализ проводился по следующим критериям:

1. Использование полей в шаблонах (templates)
2. Использование полей в представлениях (views)
3. Использование полей в админке (admin)
4. Использование полей в сериализаторах (если есть)

## Результаты анализа

### 1. Приложение `facilities`

#### Модель `Clinic`

**Проблема:** В шаблоне `templates/includes/cards/clinic_card.html` используется поле `clinic.min_price`, но в модели `Clinic` этого поля нет.

**Поля, которые могут быть неиспользуемыми:**

- `emergency_support` - используется только в админке, не отображается в шаблонах
- `has_hospital` - используется только в админке, не отображается в шаблонах

#### Модель `RehabCenter`

**Поля, которые могут быть неиспользуемыми:**

- `capacity` - используется только в детальном шаблоне
- `program_duration` - используется только в детальном шаблоне
- `accommodation_conditions` - используется только в детальном шаблоне

#### Модель `FacilityImage`

**Поля, которые могут быть неиспользуемыми:**

- `image_type` - не используется в шаблонах
- `title` - не используется в шаблонах
- `description` - не используется в шаблонах
- `is_main` - не используется в шаблонах
- `order` - не используется в шаблонах

#### Модель `FacilityDocument`

**Поля, которые могут быть неиспользуемыми:**

- `number` - не используется в шаблонах
- `issue_date` - не используется в шаблонах
- `expiry_date` - не используется в шаблонах

### 2. Приложение `staff`

#### Модель `MedicalSpecialist`

**Поля, которые могут быть неиспользуемыми:**

- `achievements` - не используется в шаблонах
- `schedule` - не используется в шаблонах (только в FacilitySpecialist)

#### Модель `FacilitySpecialist`

**Поля, которые могут быть неиспользуемыми:**

- `schedule` - не используется в шаблонах

#### Модель `SpecialistDocument`

**Поля, которые могут быть неиспользуемыми:**

- `number` - не используется в шаблонах
- `issue_date` - не используется в шаблонах
- `expiry_date` - не используется в шаблонах

### 3. Приложение `blog`

#### Модель `BlogPost`

**Поля, которые могут быть неиспользуемыми:**

- `meta_title` - не используется в шаблонах
- `meta_description` - не используется в шаблонах

#### Модель `BlogImage`

**Поля, которые могут быть неиспользуемыми:**

- `title` - не используется в шаблонах
- `description` - не используется в шаблонах
- `order` - не используется в шаблонах

#### Модель `Tag`

**Поля, которые могут быть неиспользуемыми:**

- `icon` - не используется в шаблонах
- `description` - не используется в шаблонах
- `is_system` - используется только в коде, не в шаблонах

### 4. Приложение `requests`

#### Модель `Request`

**Поля, которые могут быть неиспользуемыми:**

- `medical_history` - используется только в печатном отчете
- `treatment_plan` - используется только в печатном отчете
- `notes` - используется только в админке

#### Модель `DependentRequest`

**Поля, которые могут быть неиспользуемыми:**

- `age` - используется только в печатном отчете
- `addiction_duration` - используется только в печатном отчете
- `previous_treatment` - используется только в печатном отчете
- `current_condition` - используется только в печатном отчете
- `preferred_treatment` - используется только в печатном отчете
- `emergency_contact` - используется только в печатном отчете
- `emergency_phone` - используется только в печатном отчете
- `notes` - используется только в админке

### 5. Приложение `recovery_stories`

#### Модель `RecoveryStory`

**Поля, которые могут быть неиспользуемыми:**

- `meta_title` - не используется в шаблонах
- `meta_description` - не используется в шаблонах
- `conclusion_text` - не используется в шаблонах

### 6. Приложение `content`

#### Модель `Banner`

**Поля, которые могут быть неиспользуемыми:**

- `description` - не используется в шаблонах
- `start_date` - не используется в шаблонах
- `end_date` - не используется в шаблонах

## Рекомендации

### 1. Критические проблемы

1. **Исправить ошибку с `clinic.min_price`** - добавить поле в модель `Clinic` или убрать из шаблона
2. **Добавить связь с услугами** - добавить `GenericRelation` для услуг в модели учреждений

### 2. Потенциальные улучшения

1. **SEO-поля** - добавить использование `meta_title` и `meta_description` в шаблонах
2. **Дополнительная информация** - рассмотреть использование полей `achievements`, `schedule` в шаблонах
3. **Документы** - добавить отображение информации о документах (даты, номера)

### 3. Очистка кода

1. **Удалить неиспользуемые поля** - если поля действительно не нужны
2. **Добавить документацию** - для полей, которые используются только в админке
3. **Унифицировать логику** - привести к единому стилю отображения информации

## Заключение

Большинство полей используются в админке или в специфических случаях (печатные отчеты). Основная проблема - отсутствие поля `min_price` в модели `Clinic`, которое используется в шаблоне.

Рекомендуется:

1. Исправить критическую ошибку с `min_price`
2. Добавить использование SEO-полей
3. Рассмотреть добавление отображения дополнительной информации в шаблонах
