# Чек-лист тестирования административной панели

## 1. Управление пользователями (users/)

### 1.1. Создание пользователей

- [ ] Создание пользователя с разными ролями
  - [ ] Суперпользователь
  - [ ] Администратор контента
  - [ ] Администратор заявок
- [ ] Проверка валидации email и пароля
- [ ] Проверка обязательных полей
- [ ] Проверка автогенерации username
- [ ] Проверка загрузки аватара

### 1.2. Редактирование пользователей

- [ ] Изменение персональной информации
- [ ] Изменение ролей и прав
- [ ] Блокировка/разблокировка пользователя
- [ ] Сброс пароля
- [ ] Проверка ограничений на изменение суперпользователей

### 1.3. Удаление пользователей

- [ ] Удаление обычного пользователя
- [ ] Попытка удаления суперпользователя
- [ ] Проверка каскадного удаления связанных данных

## 2. Управление уровнями доступа (admin_logs/)

### 2.1. Уровни доступа

- [ ] Создание нового уровня доступа
- [ ] Назначение разрешений для уровня
- [ ] Проверка валидации кода уровня
- [ ] Активация/деактивация уровня

### 2.2. Назначение прав

- [ ] Назначение прав пользователю
- [ ] Проверка срока действия прав
- [ ] Массовое назначение прав
- [ ] Отзыв прав

### 2.3. Логирование действий

- [ ] Проверка записи действий в лог
- [ ] Просмотр истории изменений
- [ ] Фильтрация логов по пользователю/действию
- [ ] Экспорт логов

## 3. Управление медицинскими услугами (medical_services/)

### 3.1. Категории услуг

- [ ] Создание категории
- [ ] Создание подкатегории
- [ ] Автогенерация slug
- [ ] Сортировка категорий

### 3.2. Услуги

- [ ] Создание услуги
- [ ] Привязка к категориям
- [ ] Установка длительности
- [ ] Управление активностью

### 3.3. Цены

- [ ] Установка цены
- [ ] История изменения цен
- [ ] Валидация дат
- [ ] Массовое обновление цен

## 4. Управление учреждениями (facilities/)

### 4.1. Реабилитационные центры

- [ ] Создание центра
- [ ] Загрузка изображений
- [ ] Управление услугами
- [ ] Управление специалистами
- [ ] Проверка геолокации

### 4.2. Клиники

- [ ] Создание клиники
- [ ] Настройка экстренной поддержки
- [ ] Управление стационаром
- [ ] Проверка специфических полей

## 5. Управление контентом

### 5.1. Блог (blog/)

- [ ] Создание поста
- [ ] Управление категориями
- [ ] Управление тегами
- [ ] SEO-настройки
- [ ] Планирование публикации

### 5.2. Истории выздоровления (recovery_stories/)

- [ ] Создание истории
- [ ] Управление категориями
  - [ ] Загрузка начальных категорий через команду `load_initial_categories`
  - [ ] Проверка иерархии категорий (родительские/дочерние)
  - [ ] Проверка уникальности slug'ов
  - [ ] Проверка порядка отображения
- [ ] Модерация комментариев
- [ ] Управление статусом

### 5.3. Баннеры и настройки (content/)

- [ ] Создание баннера
- [ ] Настройка периода показа
- [ ] Управление порядком
- [ ] Настройки сайта

## 6. Управление заявками (requests/)

### 6.1. Обычные заявки (Request)

#### 6.1.1. Создание заявки

- [ ] Создание заявки с разными типами зависимости
  - [ ] Алкогольная
  - [ ] Наркотическая
  - [ ] Игровая
  - [ ] Другая
- [ ] Создание заявки с разными типами контакта
  - [ ] Анонимно
  - [ ] Под псевдонимом
  - [ ] Под реальным именем
- [ ] Проверка обязательных полей
- [ ] Проверка валидации email и телефона
- [ ] Проверка заполнения медицинской информации

#### 6.1.2. Обработка заявки

- [ ] Изменение статуса заявки
  - [ ] Новая → В обработке
  - [ ] В обработке → Одобрена
  - [ ] В обработке → Отклонена
  - [ ] Одобрена → Завершена
- [ ] Назначение ответственного
  - [ ] Выбор из списка специалистов
  - [ ] Проверка уведомлений
- [ ] Добавление плана лечения
- [ ] Добавление заметок
- [ ] Проверка истории изменений

#### 6.1.3. Поиск и фильтрация

- [ ] Поиск по ФИО/псевдониму
- [ ] Поиск по email/телефону
- [ ] Фильтрация по статусу
- [ ] Фильтрация по типу зависимости
- [ ] Фильтрация по ответственному
- [ ] Сортировка по дате создания

### 6.2. Анонимные заявки (AnonymousRequest)

#### 6.2.1. Создание заявки

- [ ] Создание заявки с разными типами
  - [ ] Консультация
  - [ ] Лечение
  - [ ] Реабилитация
  - [ ] Партнерство
  - [ ] Другое
- [ ] Проверка заполнения контактной информации
- [ ] Проверка выбора предпочтительного учреждения
- [ ] Проверка выбора предпочтительной услуги
- [ ] Проверка указания времени для связи

#### 6.2.2. Обработка заявки

- [ ] Изменение статуса заявки
  - [ ] Новая → В обработке
  - [ ] В обработке → Ожидание комиссии
  - [ ] Ожидание комиссии → Комиссия получена
  - [ ] Комиссия получена → Лечение начато
  - [ ] Лечение начато → Лечение завершено
  - [ ] Любой статус → Отменена/Закрыта
- [ ] Работа с комиссией
  - [ ] Указание суммы комиссии
  - [ ] Загрузка документа комиссии
  - [ ] Указание даты получения
- [ ] Назначение ответственного
- [ ] Добавление заметок
- [ ] Проверка истории статусов

#### 6.2.3. Дополнительные функции

- [ ] Установка приоритета заявки
- [ ] Добавление информации о пациенте
- [ ] Управление документами
- [ ] Экспорт данных заявки

## 7. Управление специалистами (staff/)

### 7.1. Специализации (Specialization)

#### 7.1.1. Создание специализации

- [ ] Создание новой специализации
- [ ] Проверка автогенерации slug
- [ ] Проверка уникальности slug
- [ ] Проверка транслитерации названия
- [ ] Проверка обязательных полей

#### 7.1.2. Управление специализациями

- [ ] Редактирование существующей специализации
- [ ] Удаление специализации
- [ ] Проверка каскадного удаления
- [ ] Поиск по названию/описанию
- [ ] Сортировка по названию

### 7.2. Специалисты (MedicalSpecialist)

#### 7.2.1. Создание специалиста

- [ ] Создание нового специалиста
- [ ] Проверка автогенерации slug
- [ ] Проверка уникальности slug
- [ ] Назначение специализаций
- [ ] Загрузка фото
- [ ] Проверка обязательных полей

#### 7.2.2. Управление специалистами

- [ ] Редактирование информации
- [ ] Добавление образования
- [ ] Добавление достижений
- [ ] Управление активностью
- [ ] Поиск по ФИО
- [ ] Фильтрация по специализациям

### 7.3. Специалисты учреждений (FacilitySpecialist)

#### 7.3.1. Привязка к учреждению

- [ ] Привязка к реабилитационному центру
- [ ] Привязка к клинике
- [ ] Указание должности
- [ ] Указание графика работы
- [ ] Проверка уникальности привязки

#### 7.3.2. Документы специалистов

- [ ] Добавление документов
  - [ ] Диплом
  - [ ] Сертификат
  - [ ] Лицензия
  - [ ] Специализация
  - [ ] Другие документы
- [ ] Проверка срока действия документов
- [ ] Загрузка файлов документов
- [ ] Управление активностью документов

### 7.4. Дополнительные функции

- [ ] Экспорт данных специалистов
- [ ] Массовое обновление информации
- [ ] Статистика по специалистам
- [ ] Проверка прав доступа к информации

## 8. Общие проверки

### 8.1. Интерфейс

- [ ] Проверка отображения всех полей
- [ ] Проверка фильтров
- [ ] Проверка поиска
- [ ] Проверка сортировки
- [ ] Проверка пагинации

### 8.2. Безопасность

- [ ] Проверка CSRF-защиты
- [ ] Проверка XSS-уязвимостей
- [ ] Проверка SQL-инъекций
- [ ] Проверка прав доступа

### 8.3. Производительность

- [ ] Время загрузки страниц
- [ ] Оптимизация запросов
- [ ] Кэширование
- [ ] Работа с большими наборами данных
