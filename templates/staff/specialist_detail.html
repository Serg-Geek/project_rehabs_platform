{% extends 'base.html' %}
{% load static %}

{% block title %}{{ specialist.last_name }} {{ specialist.first_name }} - {{ specialist.position }}{% endblock %}

{% block content %}
<nav aria-label="breadcrumb">
    <div class="container">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'core:home' %}">Главная</a></li>
            <li class="breadcrumb-item">
                <a href="{% url 'staff:specialist_detail' specialist.slug %}">Специалисты</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                {{ specialist.last_name }} {{ specialist.first_name }}
            </li>
        </ol>
    </div>
</nav>

<section class="detail spec-detail rehab-help">
    <div class="container">
        <div class="detail__content rehab-help__content">
            <div class="detail__content-item detail__content-item--img rehab-help__content-item rehab-help__image">
                {% if specialist.photo %}
                    <img src="{{ specialist.photo.url }}" alt="{{ specialist.last_name }} {{ specialist.first_name }}" />
                {% else %}
                    <img src="{% static 'deps/img/notImage.svg' %}" alt="{{ specialist.last_name }} {{ specialist.first_name }}" />
                {% endif %}
            </div>
            <div class="detail__content-wrapper detail__content-item rehab-help__content-item">
                <h2 class="title__h2 detail__title">{{ specialist.last_name }} {{ specialist.first_name }}</h2>
                <div class="detail__text spec-detail__text">
                    <p class="specialist-detail__position">{{ specialist.position }}</p>
                    {% comment %} <p class="specialist-detail__experience">Опыт работы: {{ specialist.experience_years }} лет</p> {% endcomment %}
                    {% comment %} <p class="specialist-detail__schedule">График работы: {{ specialist.schedule }}</p> {% endcomment %}
                    
                    {% comment %} <div class="specialist-detail__specializations">
                        <h3>Специализации:</h3>
                        <ul>
                            {% for specialization in specialist.specializations.all %}
                            <li>{{ specialization.name }}</li>
                            {% endfor %}
                        </ul>
                    </div> {% endcomment %}
                </div>

                {% if specialist.facility and specialist.facility.slug %}
                <div class="card">
                    <a href="{% url 'facilities:clinic_detail' specialist.facility.slug %}">
                        <div class="card__image">
                            {% if specialist.facility.photo %}
                                <img src="{{ specialist.facility.photo.url }}" alt="{{ specialist.facility.name }}" />
                            {% endif %}
                        </div>
                        <div class="card__content">
                            <h3 class="card__title">{{ specialist.facility.name }}</h3>
                            <p class="card__text">{{ specialist.facility.description }}</p>
                        </div>
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<section class="detail__info spec-detail__info">
    <div class="container">
        <div class="detail-content__wrapper">
            <h3 class="title__h3 detail__title">Образование</h3>
            <div class="spec-detail__wrapper">
                <div class="spec-detail__text">
                    <p>{{ specialist.education|default:'Информация об образовании не указана' }}</p>
                </div>
            </div>
        </div>
        
        <div class="detail-content__wrapper detail-content__wrapper-second">
            <h3 class="title__h3 detail__title">Биография</h3>
            <div class="spec-detail__wrapper">
                <div class="spec-detail__text">
                    <p>{{ specialist.biography|default:'Информация о биографии не указана' }}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="detail-docs specialist-detail__docs">
    <div class="container">
        <h3 class="title__h3 detail__title">Документы и сертификаты</h3>
        <div class="detail-doc__images">
            <div class="detail-docs__slider">
                {% for doc in documents %}
                <div class="detail-docs__image spec-detail__docs--image">
                    {% if doc.document %}
                    <img src="{{ doc.document.url }}" alt="{{ doc.title }}" />
                    {% else %}
                    <img src="{% static 'deps/img/notImage.svg' %}" alt="{{ doc.title }}" />
                    {% endif %}
                </div>
                {% empty %}
                <div class="detail-docs__image spec-detail__docs--image">
                    <!-- <p>Документы не загружены</p> -->
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
{% endblock %}